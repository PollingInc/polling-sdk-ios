#!/bin/sh

SRCROOT="Polling"

INPUT_FILE_LIST="$SRCROOT/Polling/Internal/UserScripts/UserScriptsInput.xcfilelist"
INPUT_FILES=$(cd $SRCROOT && find Polling/Internal/UserScripts -name '*.js' -or -name '*.css' | sed -e 's/^/\$(SRCROOT)\//')

cat <<EOF > $INPUT_FILE_LIST
#  UserScriptsInput.xcfilelist
#  Polling
#
#  Copyright Â© 2025 Polling.com. All rights reserved.
#
#  DO NOT EDIT THIS FILE
#
#  This file is generated from the make task
#  gen-user-scriptsinput-file-list
#

#
#  If any of these files change, POLUserScript.[hm] need to be
#  rebuilt. This file is used by Xcode to know what files
#  POLUserScript.[hm] depend on.
#

\$(SRCROOT)/../Scripts/xcode-gen-user-scripts
$INPUT_FILES

EOF
